<!DOCTYPE html>
<html  ng-app="app">
<head>
	<meta charset="UTF-8">
	<title>test form</title>
	 <link href="/../media/styles/bootstrap.min.css" rel="stylesheet"/>
	<script type="text/javascript" src="/../app/client/app/build/build.js"></script>
  <link href="/../media/styles/styles.css" rel="stylesheet"/>
    <style>
        input.ng-pristine{
            border: 1px dotted grey;
        }
        input.ng-invalid.ng-dirty {
            border: 2px solid #FF6A6A;
            color:#FF6A6A;
            background-color: white;
        }
        input.ng-valid.ng-dirty {
            border: 2px solid lightgreen;
            background-color: white;
        }
        .help{
          color:green;
          font-weight:bold; 
          margin-bottom: 10px;
        }
        .error{
          color:red;
          font-weight:bold; 
        }
        .container{
          margin-top: 20px;
        }
        #win3{
          background-color:#000;
          opacity:0.9;
          padding:30px;
          position: fixed;
          width: 100%;
          height: 100%;
          z-index: 100;
          top: 0;
          left: 0;
        }
    </style>
</head>
<body>
<div ng-controller="authtestCtrl">
<!-- Loading window -->
<div id="win3" ng-if="loading" >
  <div class="cssload-container">
    <div class="cssload-l">L</div>
    <div class="cssload-circle"></div>
    <div class="cssload-square"></div>
    <div class="cssload-triangle"></div>
    <div class="cssload-i">I</div>
    <div class="cssload-n">N</div>
    <div class="cssload-g">G</div>
  </div>
</div>
<!-- Conteiner -->
<div class="container">
  	<!-- Errors-->
  <div class="form-group">
    <label class="control-label col-sm-2" for="login"></label>
    <div class="col-sm-10">
      <div ng-if="show_errors" id="erno">
        <div class="alert alert-danger">
          <!--  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>-->
          <strong>Errors!</strong><br>
          <p>-{{err}}</p>
      </div>
    </div>
    </div>
  </div>
  <!-- username-->
  <div class="alert alert-success alert-dismissable"  id="user_info" style="display:blok;" ng-if="user">
  <!-- <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a> -->
  <center><strong>Welcome {{username}}!</strong><br>
    <button type="submit" class="btn btn-default btn-primary" ng-click="logout()">Logout</button>
  </center> 
</div>
 <!-- Form control auth -->
  <form class="form-horizontal" name="auth_form"  ng-submit="login_fn(auth)" ng-if="form_controll" novalidate>
    <div class="form-group">
       <div class="help row" ng-show="auth_form.username.$pristine || auth_form.username.$invalid">
         <label class="control-label col-sm-2">*</label>
          <span class="col-sm-5">
            There must be only letters and numbers. Minimum length of - 3 characters. Maximum length - 15 characters.
          </span>
        </div> 
      <div class="row">
      <label class="control-label col-sm-2" for="username">login:</label>
      <div class="col-sm-5">
        <input type="text" class="form-control" id="username" name="username" placeholder="Enter login" ng-model="auth.username"  ng-pattern="usernamePattern" ng-minlength="3" ng-maxlength="15" required>
        <div class="error" ng-show="auth_form.username.$dirty && auth_form.username.$invalid">
         {{getError(auth_form.username.$error)}}
        </div> 
      </div>
    </div>
    </div>
    <div class="form-group">
       <div class="help row" ng-show="auth_form.password.$pristine || auth_form.password.$invalid">
          <label class="control-label col-sm-2">*</label>
          <span class="col-sm-5">
            There must be only letters and numbers. Minimum length of - 5 characters. Maximum length - 15 characters.
          </span>
        </div> 
      <div class="row">
      <label class="control-label col-sm-2" for="pwd">password:</label>
      <div class="col-sm-5">          
        <input type="password" class="form-control" id="pwd" name="password" placeholder="Enter password" ng-model="auth.password"  
        ng-pattern="passwordPattern" ng-minlength="5" ng-maxlength="15" required>
        <div class="error" ng-show="auth_form.password.$dirty && auth_form.password.$invalid">
          {{getError(auth_form.password.$error)}}
        </div> 
      </div>
      </div>
    </div>
    <div class="form-group">        
      <div class="col-sm-offset-2 col-sm-5">
        <div class="checkbox">
          <label><input type="checkbox" name="remember" ng-model="auth.remember"> Remember me</label>
        </div>
      </div>
    </div>
    <div class="form-group">        
      <div class="col-sm-offset-2 col-sm-5">
        <button type="submit" class="btn btn-default btn-primary" ng-disabled="auth_form.$invalid">Submit</button>
      </div>
    </div>
  </form>
  <!-- Form End -->
</div>
</div>
</body>
</html>